<h1 id="middleware">Middleware</h1>
<p class="lead">
The Bridge server is a wrapper around the <a href="//pub.dartlang.org/packages/shelf">Shelf</a>
server. Middleware can be attached with a service provider. 
</p>

<pre><code class="prettyprint lang-dart prettyprinted" data-lang="dart" style=""><span class="kwd">import</span><span class="pln"> </span><span class="str">'package:bridge/core.dart'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="str">'package:bridge/http.dart'</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> http</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="str">'package:shelf/shelf.dart'</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> shelf</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MyMiddlewareServiceProvider</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">ServiceProvider</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  load</span><span class="pun">(</span><span class="pln">http</span><span class="pun">.</span><span class="typ">Server</span><span class="pln"> server</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    server</span><span class="pun">.</span><span class="pln">addMiddleware</span><span class="pun">(</span><span class="pln">
      shelf</span><span class="pun">.</span><span class="pln">createMiddleware</span><span class="pun">(</span><span class="pln">requestHandler</span><span class="pun">:</span><span class="pln"> handler</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  shelf</span><span class="pun">.</span><span class="typ">Response</span><span class="pln"> handler</span><span class="pun">(</span><span class="pln">shelf</span><span class="pun">.</span><span class="typ">Request</span><span class="pln"> request</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// ...</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<blockquote>
<p>Read more about <code>shelf.Middleware</code> <a href="//pub.dartlang.org/packages/shelf">here</a>.</p>
</blockquote>

