<h1 id="templates">Templates</h1>
<p class="lead">
In Bridge, the philosophy is that <em>templates</em> are to <em>views</em> what <em>classes</em> are to 
<em>objects</em>. When we write our templates, they are only our representation of what we
want an instance of a view to look like.
</p>

<h3 id="think-of-it-this-way-">Think of it this way:</h3>
<blockquote>
<p>When we write classes, we want them to be <strong>descriptive</strong> of whatever <strong>state</strong> our
objects might end up in. The same goes for our templates. We don't want them to look 
like this:</p>
</blockquote>
<pre><code class="prettyprint lang-html prettyprinted" data-lang="html" style=""><span class="dec">&lt;!DOCTYPE html&gt;</span><span class="pln">
</span><span class="tag">&lt;html&gt;</span><span class="pln">
</span><span class="tag">&lt;head&gt;</span><span class="pln">
  </span><span class="com">&lt;!-- A bunch of stuff that "just has to be there" --&gt;</span><span class="pln">
  </span><span class="tag">&lt;title&gt;</span><span class="pln">My blog</span><span class="tag">&lt;/title&gt;</span><span class="pln">
</span><span class="tag">&lt;/head&gt;</span><span class="pln">
</span><span class="tag">&lt;body&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">'app'</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<p><strong>Why?</strong> Because this is not a semantic representation of what our view will look like.
Even though some of this stuff is what we <strong>have</strong> to send, this is not a representative
<strong>blueprint</strong> of our <strong>states</strong>.</p>
<p>Wouldn't it be nice if we could express our rich front end experiences in a way that is
both readable, semantic, and still doesn't violate any of the conventions of the web 
once the templates has been sent to the client.</p>
<h2 id="bridge-templates-wip-">Bridge Templates <code>WIP</code></h2>
<pre><code class="prettyprint lang-btl prettyprinted" data-lang="btl" style=""><span class="tag">&lt;head</span><span class="pln"> </span><span class="atn">extends</span><span class="pun">=</span><span class="atv">'masters.meta'</span><span class="tag">&gt;</span><span class="pln">

  </span><span class="tag">&lt;title&gt;</span><span class="pln">Homepage</span><span class="tag">&lt;/title&gt;</span><span class="pln">
</span><span class="tag">&lt;/head&gt;</span><span class="pln">

</span><span class="tag">&lt;body</span><span class="pln"> </span><span class="atn">extends</span><span class="pun">=</span><span class="atv">'masters.main'</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;h1&gt;</span><span class="pln">Welcome to my blog!</span><span class="tag">&lt;/h1&gt;</span><span class="pln">

  </span><span class="com">// Display a partial</span><span class="pln">
  </span><span class="tag">&lt;import</span><span class="pln"> </span><span class="atn">template</span><span class="pun">=</span><span class="atv">'partials.breadcrumbs'</span><span class="tag">/&gt;</span><span class="pln">

  </span><span class="com">// List all the comments</span><span class="pln">
  </span><span class="tag">&lt;for</span><span class="pln"> </span><span class="atn">each</span><span class="lit">=$comment</span><span class="pln"> </span><span class="atn">in</span><span class="lit">=$comments</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;div&gt;</span><span class="pln">
      </span><span class="tag">&lt;h5&gt;</span><span class="lit">${comment.author.firstName}</span><span class="tag">&lt;/h5&gt;</span><span class="pln">
      </span><span class="tag">&lt;p&gt;</span><span class="lit">${comment.body}</span><span class="tag">&lt;/p&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;/for&gt;</span><span class="pln">

  </span><span class="tag">&lt;script&gt;</span><span class="pln">
    </span><span class="kwd">import</span><span class="pln"> </span><span class="str">'package:bridge/bridge.dart'</span><span class="pun">;</span><span class="pln">

    main</span><span class="pun">(</span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> arguments</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      print</span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="tag">&lt;/script&gt;</span><span class="pln">

  </span><span class="tag">&lt;footer&gt;</span><span class="pln">
    </span><span class="com">// Escaped $ symbol</span><span class="pln">
    I got </span><span class="pun">\$</span><span class="pln">wag
  </span><span class="tag">&lt;/footer&gt;</span><span class="pln">
</span><span class="tag">&lt;/body&gt;</span></code></pre>
<pre><code class="prettyprint lang-dart prettyprinted" data-lang="dart" style=""><span class="pln">router</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'/'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> template</span><span class="pun">(</span><span class="str">'index'</span><span class="pun">,</span><span class="pln"> withData</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">'comments'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> </span><span class="str">'body'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'This is awesome'</span><span class="pun">,</span><span class="pln">
        </span><span class="str">'author'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'firstName'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Jane'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> </span><span class="str">'body'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Sure is'</span><span class="pun">,</span><span class="pln">
        </span><span class="str">'author'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'firstName'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'John'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<pre><code class="prettyprint lang-html prettyprinted" data-lang="html" style=""><span class="tag">&lt;DOCTYPE</span><span class="pln"> </span><span class="atn">html</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;html&gt;</span><span class="pln">
</span><span class="tag">&lt;head&gt;</span><span class="pln">
    ...
    </span><span class="tag">&lt;title&gt;</span><span class="pln">Homepage</span><span class="tag">&lt;/title&gt;</span><span class="pln">
</span><span class="tag">&lt;/head&gt;</span><span class="pln">
</span><span class="tag">&lt;body&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">'container'</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;header&gt;</span><span class="pln">My Blog</span><span class="tag">&lt;/header&gt;</span><span class="pln">
    </span><span class="tag">&lt;main&gt;</span><span class="pln">
      </span><span class="tag">&lt;h1&gt;</span><span class="pln">Welcome to my blog!</span><span class="tag">&lt;/h1&gt;</span><span class="pln">

      </span><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">'my-breadcrumbs'</span><span class="tag">&gt;</span><span class="pln">
        </span><span class="tag">&lt;li&gt;&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">'/'</span><span class="tag">&gt;</span><span class="pln">Home</span><span class="tag">&lt;/a&gt;&lt;/li&gt;</span><span class="pln">
      </span><span class="tag">&lt;/ul&gt;</span><span class="pln">

      </span><span class="tag">&lt;div&gt;</span><span class="pln">
        </span><span class="tag">&lt;h5&gt;</span><span class="pln">Jane</span><span class="tag">&lt;/h5&gt;</span><span class="pln">
        </span><span class="tag">&lt;p&gt;</span><span class="pln">This is awesome</span><span class="tag">&lt;/p&gt;</span><span class="pln">
      </span><span class="tag">&lt;/div&gt;</span><span class="pln">
      </span><span class="tag">&lt;div&gt;</span><span class="pln">
        </span><span class="tag">&lt;h5&gt;</span><span class="pln">John</span><span class="tag">&lt;/h5&gt;</span><span class="pln">
        </span><span class="tag">&lt;p&gt;</span><span class="pln">Sure is</span><span class="tag">&lt;/p&gt;</span><span class="pln">
      </span><span class="tag">&lt;/div&gt;</span><span class="pln">

      </span><span class="tag">&lt;footer&gt;</span><span class="pln">
        My Twitter handle is @example
      </span><span class="tag">&lt;/footer&gt;</span><span class="pln">
    </span><span class="tag">&lt;/main&gt;</span><span class="pln">
</span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<blockquote>
<p>Bridge's templating syntax is <strong>tightly</strong> coupled with the front end in more ways
than one.</p>
<p>By default, (as seen above) the document is parsed into semantic HTML. However
the template can be <strong>converted</strong> to for example <a href="http://handlebarsjs.com">Handlebars</a>
so that it can be parsed by the front end script.</p>
</blockquote>
<pre><code class="prettyprint lang-html prettyprinted" data-lang="html" style=""><span class="tag">&lt;DOCTYPE</span><span class="pln"> </span><span class="atn">html</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;html&gt;</span><span class="pln">
</span><span class="tag">&lt;head&gt;</span><span class="pln">
    ...
    </span><span class="tag">&lt;title&gt;</span><span class="pln">Homepage</span><span class="tag">&lt;/title&gt;</span><span class="pln">
</span><span class="tag">&lt;/head&gt;</span><span class="pln">
</span><span class="tag">&lt;body&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">'container'</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;header&gt;</span><span class="pln">My Blog</span><span class="tag">&lt;/header&gt;</span><span class="pln">
    </span><span class="tag">&lt;main&gt;</span><span class="pln">
      </span><span class="tag">&lt;h1&gt;</span><span class="pln">Welcome to my blog!</span><span class="tag">&lt;/h1&gt;</span><span class="pln">

      </span><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">'my-breadcrumbs'</span><span class="tag">&gt;</span><span class="pln">
        </span><span class="tag">&lt;li&gt;&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">'/'</span><span class="tag">&gt;</span><span class="pln">Home</span><span class="tag">&lt;/a&gt;&lt;/li&gt;</span><span class="pln">
      </span><span class="tag">&lt;/ul&gt;</span><span class="pln">

      {{#comments}}
        </span><span class="tag">&lt;div&gt;</span><span class="pln">
          </span><span class="tag">&lt;h5&gt;</span><span class="pln">{{author.firstName}}</span><span class="tag">&lt;/h5&gt;</span><span class="pln">
          </span><span class="tag">&lt;p&gt;</span><span class="pln">{{body}}</span><span class="tag">&lt;/p&gt;</span><span class="pln">
        </span><span class="tag">&lt;/div&gt;</span><span class="pln">
      {{/comments}}

      </span><span class="tag">&lt;footer&gt;</span><span class="pln">
        My Twitter handle is @example
      </span><span class="tag">&lt;/footer&gt;</span><span class="pln">
    </span><span class="tag">&lt;/main&gt;</span><span class="pln">
</span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<blockquote>
<p>And what's even <em>cooler</em>, the <a href="#/tether">Tether</a> will send the data through to the
client, so you can use <code>template('index', withData: {})</code> even if you're converting
the template.</p>
</blockquote>

