<dom-module id="docs-templating"><template><doc-page><h1 id="templating">Templating</h1>
<p class="lead">
Now that we know how to return a template response. Let's look into how templating works in Bridge.
</p>

<h2 id="expressions">Expressions</h2>
<p>Using Dart expressions in the templates work just like string interpolation. Any script can easily be executed like so:</p>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="tag">&lt;h1&gt;</span><span class="pln">What is 1 + 1?</span><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;p&gt;</span><span class="pln">Easy! It's </span><span class="lit">${1</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1}</span><span class="tag">&lt;/p&gt;</span></code></pre>
<pre><code class="prettyprint lang-html prettyprinted" data-lang="html" style=""><span class="tag">&lt;h1&gt;</span><span class="pln">What is 1 + 1?</span><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;p&gt;</span><span class="pln">Easy! It's 2</span><span class="tag">&lt;/p&gt;</span></code></pre>
<p>Everything that has been imported or exported publically in your dart script can be used in template expressions.</p>
<pre><code class="prettyprint lang-dart prettyprinted" data-lang="dart" style=""><span class="com">// lib/app/my_class.dart</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MyClass</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="typ">String</span><span class="pln"> property </span><span class="pun">=</span><span class="pln"> </span><span class="str">'value'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="tag">&lt;p&gt;</span><span class="lit">${</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MyClass</span><span class="pun">().</span><span class="pln">property</span><span class="lit">}</span><span class="tag">&lt;/p&gt;</span></code></pre>
<pre><code class="prettyprint lang-html prettyprinted" data-lang="html" style=""><span class="tag">&lt;p&gt;</span><span class="pln">value</span><span class="tag">&lt;/p&gt;</span></code></pre>
<blockquote>
<p><strong>Note:</strong> Complex expressions are parsed on the server, so your client entities will not be accessible using this
method</p>
</blockquote>
<p>Escape dollar signs with a back-slash:</p>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="tag">&lt;p&gt;</span><span class="pun">\$</span><span class="pln">WAG</span><span class="tag">&lt;/p&gt;</span></code></pre>
<pre><code class="prettyprint lang-html prettyprinted" data-lang="html" style=""><span class="tag">&lt;p&gt;</span><span class="pln">$WAG</span><span class="tag">&lt;/p&gt;</span></code></pre>
<h2 id="passing-local-variables">Passing local variables</h2>
<p>Passing locals to the template is super easy:</p>
<pre><code class="prettyprint lang-dart prettyprinted" data-lang="dart" style=""><span class="kwd">return</span><span class="pln"> template</span><span class="pun">(</span><span class="str">'index'</span><span class="pun">,</span><span class="pln"> withData</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">'key'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'value'</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="tag">&lt;p&gt;</span><span class="lit">$key</span><span class="tag">&lt;/p&gt;</span></code></pre>
<pre><code class="prettyprint lang-html prettyprinted" data-lang="html" style=""><span class="tag">&lt;p&gt;</span><span class="pln">value</span><span class="tag">&lt;/p&gt;</span></code></pre>
<h2 id="logic">Logic</h2>
<p>Trivial logic can be performed with directives, like so:</p>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="tag">&lt;p&gt;</span><span class="pln">
  </span><span class="kwd">@if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
    This content will always be shown
  </span><span class="kwd">@else if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
    This content will never be shown
  </span><span class="kwd">@else</span><span class="pln">
    Neither will this
  </span><span class="kwd">@end if</span><span class="pln">

  </span><span class="kwd">@for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item </span><span class="kwd">in</span><span class="pln"> someList</span><span class="pun">)</span><span class="pln">
    </span><span class="lit">$item</span><span class="pln">
  </span><span class="kwd">@end for</span><span class="pln">
</span><span class="tag">&lt;/p&gt;</span></code></pre>
<h2 id="includes-and-extensions">Includes and extensions</h2>
<p>Bridge templates can be mixed and matched together. If you want to include a partial template right into another, use
the <code>include</code> directive:</p>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="com">// lib/templates/index.html</span><span class="pln">
</span><span class="tag">&lt;header&gt;</span><span class="pln">
  </span><span class="kwd">@include</span><span class="pln"> </span><span class="pun">(</span><span class="str">'partials.nav'</span><span class="pun">)</span><span class="pln">
</span><span class="tag">&lt;/header&gt;</span></code></pre>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="com">// lib/templates/partials/nav.html</span><span class="pln">
</span><span class="tag">&lt;nav</span><span class="pln"> </span><span class="atn">role</span><span class="pun">=</span><span class="atv">'navigation'</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span></code></pre>
<pre><code class="prettyprint lang-html prettyprinted" data-lang="html" style=""><span class="tag">&lt;header&gt;</span><span class="pln">
  </span><span class="tag">&lt;nav</span><span class="pln"> </span><span class="atn">role</span><span class="pun">=</span><span class="atv">'navigation'</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;/header&gt;</span></code></pre>
<p>On the other hand, if you want to surround the template with a master, you can use <code>extends</code> and <code>block</code>:</p>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="com">// lib/templates/app.html</span><span class="pln">
</span><span class="tag">&lt;html&gt;</span><span class="pln">
  </span><span class="tag">&lt;head&gt;</span><span class="pln">
    </span><span class="tag">&lt;title&gt;</span><span class="pln">My website</span><span class="tag">&lt;/title&gt;</span><span class="pln">
  </span><span class="tag">&lt;/head&gt;</span><span class="pln">
  </span><span class="tag">&lt;body&gt;</span><span class="pln">
    </span><span class="tag">&lt;h1&gt;</span><span class="pln">Welcome to my website!</span><span class="tag">&lt;/h1&gt;</span><span class="pln">
    </span><span class="tag">&lt;main&gt;</span><span class="pln">
      </span><span class="kwd">@block</span><span class="pln"> </span><span class="pun">(</span><span class="str">'content'</span><span class="pun">)</span><span class="pln">
    </span><span class="tag">&lt;/main&gt;</span><span class="pln">
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="com">// lib/templates/index.html</span><span class="pln">
</span><span class="kwd">@extends</span><span class="pln"> </span><span class="pun">(</span><span class="str">'app'</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">@block</span><span class="pln"> </span><span class="pun">(</span><span class="str">'content'</span><span class="pun">)</span><span class="pln">
  </span><span class="tag">&lt;h2&gt;</span><span class="pln">This is the home page</span><span class="tag">&lt;/h2&gt;</span><span class="pln"> 
</span><span class="kwd">@end block</span></code></pre>
<pre><code class="prettyprint lang-html prettyprinted" data-lang="html" style=""><span class="tag">&lt;html&gt;</span><span class="pln">
  </span><span class="tag">&lt;head&gt;</span><span class="pln">
    </span><span class="tag">&lt;title&gt;</span><span class="pln">My website</span><span class="tag">&lt;/title&gt;</span><span class="pln">
  </span><span class="tag">&lt;/head&gt;</span><span class="pln">
  </span><span class="tag">&lt;body&gt;</span><span class="pln">
    </span><span class="tag">&lt;h1&gt;</span><span class="pln">Welcome to my website!</span><span class="tag">&lt;/h1&gt;</span><span class="pln">
    </span><span class="tag">&lt;main&gt;</span><span class="pln">
      </span><span class="tag">&lt;h2&gt;</span><span class="pln">This is the home page</span><span class="tag">&lt;/h2&gt;</span><span class="pln">
    </span><span class="tag">&lt;/main&gt;</span><span class="pln">
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<p>Since the <code>@block</code> directive is used in multiple contexts – to allow for nested extends – <code>@block</code>/<code>@end block</code> is
indent sensitive. To create one-liner blocks, you have to use <code>@start block</code> instead:</p>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="kwd">@extends</span><span class="pln"> </span><span class="pun">(</span><span class="str">'master'</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">@start block</span><span class="pln"> </span><span class="pun">(</span><span class="str">'title'</span><span class="pun">)</span><span class="pln"> My title </span><span class="kwd">@end block</span></code></pre>
<p>This behaviour doesn't make any difference in the output. It's only to allow for alternative organization in the
template markup.</p>
<h2 id="comments">Comments</h2>
<p>Besides supporting HTML comments, Bridge templates have normal double-slash syntax for comments, that disappear when
the template is parsed.</p>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="com">// Super important!</span><span class="pln">
</span><span class="tag">&lt;p&gt;</span><span class="pln">Paragraph</span><span class="tag">&lt;/p&gt;</span></code></pre>
<pre><code class="prettyprint lang-html prettyprinted" data-lang="html" style=""><span class="tag">&lt;p&gt;</span><span class="pln">Paragraph</span><span class="tag">&lt;/p&gt;</span></code></pre>
<h2 id="pre-processors">Pre Processors</h2>
<p>If a template file has the extension <mark>.html</mark>, it will be parsed as a Bridge template. However, there is
support for a few other formats. All the following will have equal output:</p>
<pre><code class="prettyprint lang-dart prettyprinted" data-lang="dart" style=""><span class="kwd">return</span><span class="pln"> template</span><span class="pun">(</span><span class="str">'index'</span><span class="pun">,</span><span class="pln"> withData</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">'key'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'value'</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<hr>
<pre><code class="prettyprint lang-bridgehtml prettyprinted" data-lang="bridgehtml" style=""><span class="com">// lib/templates/index.html</span><span class="pln">
</span><span class="tag">&lt;p&gt;</span><span class="lit">$key</span><span class="tag">&lt;/p&gt;</span></code></pre>
<pre><code class="prettyprint lang-md prettyprinted" data-lang="md" style=""><span class="com"># lib/templates/index.md</span><span class="pln">
$key</span></code></pre>
<pre><code class="prettyprint lang-jade prettyprinted" data-lang="jade" style=""><span class="com">// lib/templates/index.jade</span><span class="pln">
p</span><span class="pun">=</span><span class="pln"> key</span></code></pre>
<pre><code class="prettyprint lang-hbs prettyprinted" data-lang="hbs" style=""><span class="pun">{<wbr>{--</span><span class="pln"> lib</span><span class="pun">/</span><span class="pln">templates</span><span class="pun">/</span><span class="pln">index</span><span class="pun">.</span><span class="pln">hbs </span><span class="pun">--}}</span><span class="pln">
</span><span class="str">&lt;p&gt;</span><span class="pun">{<wbr>{</span><span class="pln"> key </span><span class="pun">}}&lt;/</span><span class="pln">p</span><span class="pun">&gt;</span></code></pre>
<hr>
<pre><code class="prettyprint lang-html prettyprinted" data-lang="html" style=""><span class="tag">&lt;p&gt;</span><span class="pln">value</span><span class="tag">&lt;/p&gt;</span></code></pre>

</doc-page></template><script>Polymer({})</script></dom-module>